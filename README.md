# ๐จ PyWeb Editor

> **ะะพัั Python ะธ ัะดะพะฑััะฒะพ ะะตะฑะฐ** - ะปะพะบะฐะปัะฝัะน ะณัะฐัะธัะตัะบะธะน ัะตะดะฐะบัะพั ะธะทะพะฑัะฐะถะตะฝะธะน ั ะฟัะธะฒะฐัะฝะพัััั ะธ ัะบะพัะพัััั

---

## ๐ฅ ะะฒัะพัั

- **๐ง ะะฒะฐะฝะพะฒ ะค.ะ.** 
- **๐ป ะกัะฐะถะบะพะฒ ะ.ะ.** 

---

## ๐ ะขะตัะฝะธัะตัะบะธะน ััะตะบ

![Python](https://img.shields.io/badge/Python-3.8+-3776ab?style=flat-square&logo=python)
![Flask](https://img.shields.io/badge/Flask-2.0+-000000?style=flat-square&logo=flask)
![JavaScript](https://img.shields.io/badge/JavaScript-ES6+-f7df1e?style=flat-square&logo=javascript)
![Pillow](https://img.shields.io/badge/Pillow-9.0+-a3e7f7?style=flat-square)

---

## ๐ฏ ะะบััะฐะปัะฝะพััั ะฟัะพะฑะปะตะผั

### ๐ ะะพัะตะผั ัััะตััะฒัััะธะต ัะตัะตะฝะธั ะฝะตัะดะพะฒะปะตัะฒะพัะธัะตะปัะฝั?

| **ะัะพะฑะปะตะผะฐ**        | **ะกััะตััะฒัััะธะต ัะตัะตะฝะธั**                                                      | **ะะฐัะต ัะตัะตะฝะธะต**                                       |
| ------------------- | ----------------------------------------------------------------------------- | ------------------------------------------------------ |
| **ะกะบะพัะพััั ัะฐะฑะพัั** | ะะตัะบัะพะฟะฝัะต ัะตะดะฐะบัะพัั (Photoshop, GIMP) ััะตะฑััั ัััะฐะฝะพะฒะบะธ ะธ ะทะฐะฝะธะผะฐัั ะณะธะณะฐะฑะฐะนัั | ๐ ะะฐะฑะพัะฐะตั ะฒ ะฑัะฐัะทะตัะต, ะฝะตั ัััะฐะฝะพะฒะบะธ                  |
| **ะัะธะฒะฐัะฝะพััั**     | ะะฝะปะฐะนะฝ-ัะตัะฒะธัั ะทะฐะณััะถะฐัั ะดะฐะฝะฝัะต ะฝะฐ ะฒะฝะตัะฝะธะต ัะตัะฒะตัั                            | ๐ **100% ะปะพะบะฐะปัะฝะพ**, ะฒะฐัะธ ัะพัะพ ะพััะฐัััั ะฝะฐ ะบะพะผะฟัััะตัะต |
| **ะฃะดะพะฑััะฒะพ**        | ะะตะฑ-ัะตะดะฐะบัะพัั ัะฐััะพ ััะตะทะฐะฝั ะฒ ััะฝะบัะธัั                                        | โก ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝัะน, ะฝะพ ะปัะณะบะธะน ะธะฝัะตััะตะนั             |
| **ะะพัััะฟะฝะพััั**     | ะะพัะพะณะธะต ะฟะพะดะฟะธัะบะธ ะธะปะธ ะปะธะผะธัั                                                   | ๐ฐ **ะะตัะฟะปะฐัะฝะพ ะธ ะพัะบัััะพ**                             |

### โจ ะะฐัะต ัะตัะตะฝะธะต

**PyWeb Editor** - ััะพ **ะปะพะบะฐะปัะฝัะน ัะตัะฒะตั ะฝะฐ Flask**, ะบะพัะพััะน ะพะฑัะฐะฑะฐััะฒะฐะตั ะธะทะพะฑัะฐะถะตะฝะธั ัะตัะตะท **Pillow**, ะฐ ะธะฝัะตััะตะนั ะฟะพัััะพะตะฝ ะฝะฐ **Vanilla JavaScript + Tailwind**. ะะธะบะฐะบะธะต ะดะฐะฝะฝัะต ะฝะต ะพัะฟัะฐะฒะปััััั ะฒ ะพะฑะปะฐะบะพ - ะฒัั ัะฐะฑะพัะฐะตั ะฝะฐ ะฒะฐัะตะผ ะบะพะผะฟัััะตัะต.

---

## ๐ฌ ะะตะผะพะฝัััะฐัะธั ะฒะพะทะผะพะถะฝะพััะตะน

### ะะฝัะตััะตะนั ะฟัะธะปะพะถะตะฝะธั
[![image.png](https://i.postimg.cc/PxQsg8VX/image.png)](https://postimg.cc/r0sPWzL3)

### ๐ ะะพะดะดะตัะถะธะฒะฐะตะผัะต ััะฝะบัะธะธ

#### ๐ **ะะตะพะผะตััะธั**
- โก๏ธ ะะพะฒะพัะพั ะฝะฐ 90ยฐ / -90ยฐ
- โ๏ธ ะััะฐะถะตะฝะธะต ะฟะพ ะพััะผ (ะณะพัะธะทะพะฝัะฐะปัะฝะพ / ะฒะตััะธะบะฐะปัะฝะพ)
[![image.png](https://i.postimg.cc/ZnwH3Tnc/image.png)](https://postimg.cc/H87b11Qc)
#### ๐๏ธ **ะะพััะตะบัะธั**
- โ๏ธ ะฏัะบะพััั (0 - 2.0)
- ๐ฒ ะะพะฝััะฐัั (0 - 2.0)
- ๐ ะะฐัััะตะฝะฝะพััั (0 - 3.0)
- ๐ช ะะตะทะบะพััั (0 - 5.0)
[![image.png](https://i.postimg.cc/NM4kqg6Y/image.png)](https://postimg.cc/G84yvngS)

#### ๐จ **RGB-ะฑะฐะปะฐะฝั**
- ๐ด ะัะฐัะฝัะน (0 - 2.0)
- ๐ข ะะตะปัะฝัะน (0 - 2.0)
- ๐ต ะกะธะฝะธะน (0 - 2.0)
[![image.png](https://i.postimg.cc/L4QjzQvy/image.png)](https://postimg.cc/Hj5Jm2q5)
#### โจ **ะกะฟะตัะธะฐะปัะฝัะต ัััะตะบัั**
- ๐ **ะะธะฝัะตัะบะฐ** (ะณัะฐะดะธะตะฝั ะทะฐัะตะผะฝะตะฝะธั ะฟะพ ะบัะฐัะผ)
- ๐ซ๏ธ **ะะฐะทะผััะธะต** (ะพั 0 ะดะพ 10 ะฟะธะบัะตะปะตะน)
- **ะงััะฝะพ-ะฑะตะปัะน** (ะบะพะฝะฒะตััะฐัะธั ะฒ grayscale)
- **ะกะตะฟะธั** (ัะตััะพ-ัััะตะบั)
- **ะะตะณะฐัะธะฒ** (ะธะฝะฒะตััะธั ัะฒะตัะพะฒ)
[![image.png](https://i.postimg.cc/TPcDhtp2/image.png)](https://postimg.cc/hJfj5bLN)
#### ๐พ **ะััะพัะธั ัะตะดะฐะบัะธัะพะฒะฐะฝะธั**
- โฉ๏ธ **Undo** (ะพัะผะตะฝะฐ)
- โช๏ธ **Redo** (ะฟะพะฒัะพั)
- **ะะพ 15 ัะพััะพัะฝะธะน** ะฒ ะฟะฐะผััะธ
[![image.png](https://i.postimg.cc/14xtvF8X/image.png)](https://postimg.cc/sGcsXv9C)

---

## ๐๏ธ ะััะธัะตะบัััะฐ ัะธััะตะผั

### ะกัะตะบ ัะตัะฝะพะปะพะณะธะน

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  FRONTEND                                           โ
โ  โข Vanilla JavaScript (ES6+)                        โ
โ  โข Tailwind CSS (ะดะธะทะฐะนะฝ)                            โ
โ  โข Font Awesome (ะธะบะพะฝะบะธ)                            โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ JSON (HTTP POST)
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  BACKEND                                            โ
โ  โข Flask (REST API)                                 โ
โ  โข Python 3.8+                                      โ
โ  โข ImageStore (ัะตััะธะพะฝะฝะฐั ะฟะฐะผััั)                   โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะะะะะะขะะ ะะะะะะะะะะะ                              โ
โ  โข Pillow (PIL)                                     โ
โ  โข ImageEnhance (ัะธะปัััั)                           โ
โ  โข ImageDraw, ImageFilter (ัััะตะบัั)                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะพัะพะบ ะดะฐะฝะฝัั (Mermaid ะดะธะฐะณัะฐะผะผะฐ)

```mermaid
graph TD
    A["๐ค ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั<br/>ะธะทะพะฑัะฐะถะตะฝะธะต"] --> B["๐ค ะัะฐัะทะตั ะพัะฟัะฐะฒะปัะตั<br/>ะฝะฐ /upload"]
    B --> C["๐ผ๏ธ Flask ะฟะพะปััะฐะตั ัะฐะนะป<br/>Image.open()"]
    C --> D["๐พ ะกะพััะฐะฝัะตะผ ะพัะธะณะธะฝะฐะป<br/>+ ะฟัะตะฒัั 800px"]
    D --> E["โ ะัะฟัะฐะฒะปัะตะผ Base64<br/>ะฒ ะฑัะฐัะทะตั"]
    E --> F["๐ ะะพะปัะทะพะฒะฐัะตะปั<br/>ะผะตะฝัะตั ัะปะฐะนะดะตัั"]
    F --> G["โฑ๏ธ Debounce 200ms<br/>ะฝะฐ ะบะปะธะตะฝัะต"]
    G --> H["๐ JSON ั ะฟะฐัะฐะผะตััะฐะผะธ<br/>/process"]
    H --> I["๐จ apply_filters()<br/>ะพะฑัะฐะฑะฐััะฒะฐะตั ะบะพะฟะธั"]
    I --> J["๐ Pillow ะบะพะฝะฒะตะนะตั:<br/>1. ะะตะพะผะตััะธั<br/>2. RGB ะฑะฐะปะฐะฝั<br/>3. ะญััะตะบัั<br/>4. ะะปััะฐ-ะบะฐะฝะฐะป"]
    J --> K["๐ฆ Base64 ะบะฐััะธะฝะบะฐ<br/>ะพะฑัะฐัะฝะพ ะฒ ะฑัะฐัะทะตั"]
    K --> F
    F --> L["๐ฟ ะะฝะพะฟะบะฐ ะญะบัะฟะพัั<br/>ัะบะฐัะธะฒะฐะตั ัะธะฝะฐะปัะฝะพะต"]
    L --> M["โจ PNG ะธะปะธ JPEG<br/>ะฝะฐ ะดะธัะบ ะฟะพะปัะทะพะฒะฐัะตะปั"]
```

### ะะปััะตะฒะพะน ะผะพะผะตะฝั: **ะะตัะฐะทัััะฐััะตะต ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต**

#### ะะฐะบ ัะฐะฑะพัะฐัั ะฟัะพัััะต ัะตะดะฐะบัะพัั (ะะฐะทัััะฐััะธะน ะฟะพะดัะพะด):
- ะะฐะถะดัะน ะฝะพะฒัะน ัะธะปััั ะฝะฐะบะปะฐะดัะฒะฐะตััั ะฟะพะฒะตัั ะฟัะตะดัะดััะตะณะพ ัะตะทัะปััะฐัะฐ.
- *ะัะธะผะตั*: ะฃะฒะตะปะธัะธะปะธ ััะบะพััั โ ะบะฐััะธะฝะบะฐ "ะฒััะฒะตะปะฐ". ะะฐัะตะผ ัะฒะตะปะธัะธะปะธ ะบะพะฝััะฐัั โ "ะฒััะฒะตััะธะต" ะฟะธะบัะตะปะธ ััะฐะปะธ ะถะตัััะต.
- **ะัะพะณ**: ะััััะฐั ะฟะพัะตัั ะดะตัะฐะปะตะน, ะฟะพัะฒะปะตะฝะธะต ัะธััะพะฒะพะณะพ ััะผะฐ, ะฝะตะฒะพะทะผะพะถะฝะพััั ะบะฐัะตััะฒะตะฝะฝะพ ะพัะผะตะฝะธัั ะดะตะนััะฒะธะต.

#### ะะฐะบ ัะฐะฑะพัะฐะตั PyWeb Editor  (ะะตัะฐะทัััะฐััะธะน ะฟะพะดัะพะด):
- ะั ััะฐะฝะธะผ ะธััะพะดะฝะพะต ะธะทะพะฑัะฐะถะตะฝะธะต ะฒ ะพะฟะตัะฐัะธะฒะฝะพะน ะฟะฐะผััะธ ะธ ะฝะธะบะพะณะดะฐ ะตะณะพ ะฝะต ะผะตะฝัะตะผ.
- ะัะธ ะปัะฑะพะผ ะธะทะผะตะฝะตะฝะธะธ ะฟะพะปะทัะฝะบะฐ (ะฝะฐะฟัะธะผะตั, ะบะพะฝััะฐััะฐ):
	- ะะตัะตััั ัะฒะตะถะฐั ะบะพะฟะธั ัะธััะพะณะพ ะพัะธะณะธะฝะฐะปะฐ (original_image.copy()).
	- ะ ะฝะตะน ะฟัะธะผะตะฝััััั ััะฐะทั ะฒัะต ะฐะบััะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ  
	  (ััะบะพััั + ะบะพะฝััะฐัั + ัะธะปัััั).
- **ะัะพะณ**: ะะฐะบัะธะผะฐะปัะฝะพะต ะบะฐัะตััะฒะพ ะธะทะพะฑัะฐะถะตะฝะธั ะฝะฐ ะปัะฑะพะผ ััะฐะฟะต ัะฐะฑะพัั. ะะทะผะตะฝะตะฝะธะต ะพะดะฝะพะณะพ ะฟะฐัะฐะผะตััะฐ ะฝะต ะฟะพััะธั ะดััะณะธะต.
---

## ๐ง ะะปััะตะฒัะต ัะตัะฝะธัะตัะบะธะต ัะตัะตะฝะธั

### 1๏ธโฃ **Undo/Redo: ะะฐัะฐะผะตััะธัะตัะบะฐั ะธััะพัะธั**

ะะผะตััะพ ัะพััะฐะฝะตะฝะธั ะบะพะฟะธะธ ะธะทะพะฑัะฐะถะตะฝะธั ะฟะพัะปะต ะบะฐะถะดะพะณะพ ะธะทะผะตะฝะตะฝะธั, ะผั ัะพััะฐะฝัะตะผ **ะฟะฐัะฐะผะตััั ัะตะดะฐะบัะธัะพะฒะฐะฝะธั**. ะญัะพ ัะบะพะฝะพะผะธั ะฟะฐะผััั ะฒ 100+ ัะฐะท!

**ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั:**

```javascript
// ะััะพัะธั ััะฐะฝะธั ะะะะะะะขะะซ, ะฐ ะฝะต ะบะฐััะธะฝะบะธ
let history = [
    { brightness: 1.0, contrast: 1.0, rotation: 0, ... },
    { brightness: 1.2, contrast: 1.0, rotation: 0, ... },  // ะะพัะปะต ะธะทะผะตะฝะตะฝะธั ััะบะพััะธ
    { brightness: 1.2, contrast: 1.3, rotation: 0, ... }   // ะะพัะปะต ะธะทะผะตะฝะตะฝะธั ะบะพะฝััะฐััะฐ
];

// ะัะธ ะพัะผะตะฝะต ะฟัะพััะพ ะฑะตััะผ ะฟะฐัะฐะผะตััั ะธะท ะธััะพัะธะธ ะธ ะพัะฟัะฐะฒะปัะตะผ ะฝะฐ ัะตัะฒะตั
function historyUndo() {
    historyIndex--;
    const state = history[historyIndex];  // ะัััะดะฐ ะฑะตััะผ ะฟะฐัะฐะผะตััั
    applyStateToUI(state);                 // ะะฑะฝะพะฒะปัะตะผ UI
    sendUpdate(state);                     // ะัะฟัะฐะฒะปัะตะผ ะฝะฐ ัะตัะฒะตั ะดะปั ะพะฑัะฐะฑะพัะบะธ
}
```

**ะัะตะธะผััะตััะฒะฐ:**
- โ ะะฐะบัะธะผัะผ 15 ัะพััะพัะฝะธะน = ~1-2 KB ะฟะฐะผััะธ (ะฒะผะตััะพ 15 ะบะพะฟะธะน ะฟะพ 5-100 MB)
- โ ะะณะฝะพะฒะตะฝะฝะฐั ะพัะผะตะฝะฐ/ะฟะพะฒัะพั
- โ ะะตะณะบะพ ัะธะฝััะพะฝะธะทะธัะพะฒะฐัั ะผะตะถะดั ะฑัะฐัะทะตัะพะผ ะธ ัะตัะฒะตัะพะผ

---

### 2๏ธโฃ **ะะตัะฐะทัััะฐััะตะต ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต (Non-Destructive Editing)**

**ะัะพะฑะปะตะผะฐ:** ะัะปะธ ะผั ะพะฑัะฐะฑะฐััะฒะฐะตะผ ัะถะต ะพะฑัะฐะฑะพัะฐะฝะฝะพะต ะธะทะพะฑัะฐะถะตะฝะธะต (ัะถะฐัะพะต ะดะพ JPEG), ัะตััะตััั ะบะฐัะตััะฒะพ ะฟัะธ ะบะฐะถะดะพะผ ัะธะปัััะต.

**ะะตัะตะฝะธะต:** ะฅัะฐะฝะธะผ **ะพัะธะณะธะฝะฐะป** ะธ **ะฟัะตะฒัั** ะพัะดะตะปัะฝะพ:

```python
# backend: app.py
class ImageStore:
    def __init__(self):
        self.original_image = None    # โ ะะธะบะพะณะดะฐ ะฝะต ะผะตะฝัะตััั
        self.preview_image = None     # โ ะะพะฟะธั ะดะปั ัะฐะฑะพัั

@app.route('/process', methods=['POST'])
def process():
    if not store.preview_image:
        return jsonify({'status':'error'})
    
    # ะะะฎะงะะะะ ะะะะะะข: ะฑะตััะผ ะกะะะะฃะฎ ะบะพะฟะธั ะฟัะตะฒัั, ะฐ ะฝะต ัะตะทัะปััะฐั ะฟะพัะปะตะดะฝะตะน ะพะฑัะฐะฑะพัะบะธ
    res_img = apply_filters(store.preview_image.copy(), request.json)
    #                       โ .copy() ััะพ ะบัะธัะธัะฝะพ
    return jsonify({
        'status':'success', 
        'image': image_to_base64(res_img)
    })
```

**ะะพัะตะผั ััะพ ะฒะฐะถะฝะพ:**
- ะะฐะถะดัะน ัะธะปััั ะฟัะธะผะตะฝัะตััั ะบ ัะธััะพะผั ะธะทะพะฑัะฐะถะตะฝะธั
- ะะตั ะฝะฐะบะพะฟะปะตะฝะธั ะฐััะตัะฐะบัะพะฒ ัะถะฐัะธั
- ะะฐัะตััะฒะพ ัะบัะฟะพััะฐ ะผะฐะบัะธะผะฐะปัะฝะพ

---

### 3๏ธโฃ **ะะฟัะธะผะธะทะฐัะธั: Debounce ะฝะฐ ะบะปะธะตะฝัะต + Preview ะฝะฐ ัะตัะฒะตัะต**

**ะัะพะฑะปะตะผะฐ:** ะัะฟัะฐะฒะปััั ะทะฐะฟัะพั ะฝะฐ ัะตัะฒะตั ะฟัะธ ะบะฐะถะดะพะผ ะดะฒะธะถะตะฝะธะธ ัะปะฐะนะดะตัะฐ = ะฟะตัะตะณััะท!

**ะะตัะตะฝะธะต:** ะะฒััััะพะฒะฝะตะฒะฐั ะพะฟัะธะผะธะทะฐัะธั:

```javascript
// ะฃะะะะะะฌ 1: Debounce ะฝะฐ ะะะะะะขะ
const debouncedSend = debounce(() => sendUpdate(), 200);
//                     โ ะะดัะผ 200ms ะฟะพัะปะต ะฟะพัะปะตะดะฝะตะณะพ ะดะฒะธะถะตะฝะธั, ะฟะพัะพะผ ัะปัะผ

function liveUpdate(id) {
    const val = document.getElementById(id).value;
    // ะะฑะฝะพะฒะปัะตะผ UI ะกะะะะฃ (ะฟะปะฐะฒะฝะพััั)
    document.getElementById('val-' + id).innerText = val;
    // ะัะฟัะฐะฒะปัะตะผ ะฝะฐ ัะตัะฒะตั ัะตัะตะท debounce
    debouncedSend();
}

// ะฃะะะะะะฌ 2: Preview ะฝะฐ ะกะะะะะะ
def resize_for_preview(img, max_width=800):
    """ะกะพะทะดะฐะฝะธะต ะปะตะณะบะพะน ะบะพะฟะธะธ ะดะปั ะฑััััะพะณะพ ะฟัะตะดะฟัะพัะผะพััะฐ."""
    ratio = min(max_width/img.width, 1.0)
    if ratio >= 1: return img.copy()
    return img.resize(  # โ ะะฑัะฐะฑะฐััะฒะฐะตะผ ะผะตะฝััะตะต ะธะทะพะฑัะฐะถะตะฝะธะต
        (int(img.width*ratio), int(img.height*ratio)), 
        Image.Resampling.LANCZOS
    )
```

**ะะตะทัะปััะฐั:**
- โก UI ะพัะทัะฒัะธะฒัะน 
- ๐ ะกะตัะฒะตั ะฝะต ะฟะตัะตะณััะถะตะฝ (max 5 ะทะฐะฟัะพัะพะฒ/ัะตะบ ะฒะผะตััะพ 50+)
- ๐ ะคะธะปัััั ะฟัะธะผะตะฝััััั ะพัะตะฝั ะฑััััะพ (ะฝะฐ 800px ะธะทะพะฑัะฐะถะตะฝะธะธ)

---

### 4๏ธโฃ **PNG ะธ ะฟัะพะทัะฐัะฝะพััั: ะกะพััะฐะฝะตะฝะธะต Alpha-ะบะฐะฝะฐะปะฐ**

**ะัะพะฑะปะตะผะฐ:** PNG ั ะฟัะพะทัะฐัะฝะพัััั (RGBA) ะฝะต ะผะพะถะตั ะฑััั ัะพััะฐะฝัะฝ ะบะฐะบ JPEG (ะฝะตั ะฐะปััะฐ-ะบะฐะฝะฐะปะฐ).

**ะะตัะตะฝะธะต:** ะะฝะฐะปะธะทะธััะตะผ ัะตะถะธะผ ะธ ะฒัะฑะธัะฐะตะผ ะฟัะฐะฒะธะปัะฝัะน ัะพัะผะฐั:

```python
# backend: processors.py
def image_to_base64(img):
    """ะะพะฝะฒะตััะฐัะธั PIL Image ะฒ base64 ัััะพะบั."""
    buf = io.BytesIO()
    
    # ะะะฎะงะะะะ ะะะะะะข: ะฟัะพะฒะตััะตะผ ัะตะถะธะผ ะธะทะพะฑัะฐะถะตะฝะธั
    if img.mode == 'RGBA':
        # ะัะปะธ ะตััั ะฟัะพะทัะฐัะฝะพััั โ PNG
        img.save(buf, format="PNG")
    else:
        # ะะฝะฐัะต โ JPEG (ะผะตะฝััะต ัะฐะทะผะตั)
        img.save(buf, format="JPEG", quality=85)
    
    return base64.b64encode(buf.getvalue()).decode('utf-8')

def apply_filters(img, params):
    """ะะพะฝะฒะตะนะตั ะพะฑัะฐะฑะพัะบะธ ั ัะพััะฐะฝะตะฝะธะตะผ ะฐะปััะฐ-ะบะฐะฝะฐะปะฐ."""
    
    # ... ะพะฑัะฐะฑะพัะบะฐ ัะธะปัััะพะฒ ...
    
    # ะะะะะ ะคะะะะะะะะฆะะะ: ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฐะปััะฐ-ะบะฐะฝะฐะป
    alpha = None
    if img.mode == 'RGBA':
        alpha = img.getchannel('A')  # โ ะกะพััะฐะฝัะตะผ ะฐะปััะฐ-ะบะฐะฝะฐะป
        img = img.convert('RGB')     # โ ะะฑัะฐะฑะฐััะฒะฐะตะผ ะบะฐะบ RGB
    
    # ... ะฟัะธะผะตะฝัะตะผ ัะธะปัััั (ััะบะพััั, ะบะพะฝััะฐัั ะธ ั.ะด.) ...
    
    # ะ ะบะพะฝัะต: ะฒะพะทะฒัะฐัะฐะตะผ ะฐะปััะฐ-ะบะฐะฝะฐะป
    if alpha:
        if alpha.size != img.size:
            alpha = alpha.resize(img.size)
        img.putalpha(alpha)  # โ ะัะพะทัะฐัะฝะพััั ะฒะพัััะฐะฝะพะฒะปะตะฝะฐ
    
    return img
```

**ะะพัะตะผั ััะพ ัะปะพะถะฝะพ:**
- ะะฝะพะณะธะต ัะธะปัััั Pillow ัะฐะฑะพัะฐัั ัะพะปัะบะพ ั RGB, ะฝะต RGBA
- ะะฐะทะผะตั ะธะทะพะฑัะฐะถะตะฝะธั ะผะพะถะตั ะธะทะผะตะฝะธัััั (ะฟะพะฒะพัะพั ั `expand=True`)
- ะะปััะฐ-ะบะฐะฝะฐะป ะฝัะถะฝะพ ะฒะพัััะฐะฝะฐะฒะปะธะฒะฐัั ะฒ ะบะพะฝัะต ัะตะฟะพัะบะธ

**ะะฐัะต ัะตัะตะฝะธะต:**
- โ ะะทะฒะปะตะบะฐะตะผ ะฐะปััะฐ ะฒ ะฝะฐัะฐะปะต
- โ ะะฑัะฐะฑะฐััะฒะฐะตะผ ะธะทะพะฑัะฐะถะตะฝะธะต ะบะฐะบ RGB
- โ ะะพัััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฐะปััะฐ ะฒ ะบะพะฝัะต

---

### 5๏ธโฃ **ะกะฟะตัะธะฐะปัะฝัะน ัััะตะบั: ะะธะฝัะตัะบะฐ ั ะผะฐัะบะพะน**

```python
def apply_vignette(img, intensity):
    """ะกะพะทะดะฐะตั ะฒะธะฝัะตัะบั ั ััะตัะพะผ ะฟัะพะทัะฐัะฝะพััะธ."""
    if intensity <= 0: return img
    
    # ะจะฐะณ 1: ะกะพะทะดะฐัะผ ัััะฝัะน ัะปะพะน
    black_layer = Image.new('RGB', img.size, (0,0,0))
    
    # ะจะฐะณ 2: ะกะพะทะดะฐัะผ ะผะฐัะบั-ะพะฒะฐะป (ะฟะปะฐะฒะฝะพะต ะทะฐัะตะผะฝะตะฝะธะต ะฟะพ ะบัะฐัะผ)
    mask = Image.new('L', img.size, 0)
    draw = ImageDraw.Draw(mask)
    
    # ะะฐัััะธััะฒะฐะตะผ ัะฐะดะธััั ะพะฒะฐะปะฐ ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั intensity
    x_radius = (img.width // 2) * (0.75 - 0.4 * intensity)
    y_radius = (img.height // 2) * (0.75 - 0.4 * intensity)
    
    # ะะธััะตะผ ะฑะตะปัะน ะพะฒะฐะป (ััะพ ะฑัะดะตั "ัะฒะตัะปะฐั" ัะฐััั)
    draw.ellipse([...], fill=255)
    
    # ะจะฐะณ 3: ะะฐะทะผัะฒะฐะตะผ ะผะฐัะบั ะดะปั ะฟะปะฐะฒะฝะพะณะพ ะณัะฐะดะธะตะฝัะฐ
    mask = mask.filter(ImageFilter.GaussianBlur(radius=20))
    
    # ะจะฐะณ 4: ะะพะผะฑะธะฝะธััะตะผ ะธะทะพะฑัะฐะถะตะฝะธะต ะธ ัััะฝัะน ัะปะพะน ัะตัะตะท ะผะฐัะบั
    return Image.composite(img, black_layer, mask)
    #      โ ะะดะต ะผะฐัะบะฐ = 255, ะฒะธะดะฝะพ ะธััะพะดะฝะพะต ะธะทะพะฑัะฐะถะตะฝะธะต
    #      ะณะดะต ะผะฐัะบะฐ = 0, ะฒะธะดะฝะพ ัััะฝัะน ัะปะพะน
```

---

## ๐ฆ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
PyWeb-Editor/
โโโ app.py                    # Flask ะฟัะธะปะพะถะตะฝะธะต (ัะพัะบะฐ ะฒัะพะดะฐ)
โโโ processors.py             # ะัะต ัะธะปัััั ะธ ะพะฑัะฐะฑะพัะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน
โโโ templates/
โ   โโโ index.html           # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ (Jinja2 + Tailwind)
โโโ static/
โ   โโโ script.js            # ะะพะณะธะบะฐ UI, ะััะพัะธั, Debounce
โ   โโโ style.css            # ะะพะฟะพะปะฝะธัะตะปัะฝัะต ััะธะปะธ
โโโ README.md                
```

---

## ๐ ะัััััะน ััะฐัั

### โ ะขัะตะฑะพะฒะฐะฝะธั
- **Python 3.8+**
- **pip** (ะผะตะฝะตะดะถะตั ะฟะฐะบะตัะพะฒ)

### ๐ฅ ะฃััะฐะฝะพะฒะบะฐ

```bash
# 1. ะะปะพะฝะธััะตะผ ัะตะฟะพะทะธัะพัะธะน
git clone https://github.com/DEIL111428/pyweb-editor.git
cd pyweb-editor

# 2. ะกะพะทะดะฐัะผ ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต (ัะตะบะพะผะตะฝะดัะตััั)
python -m venv venv

# ะะฐ Windows:
venv\Scripts\activate
# ะะฐ macOS/Linux:
source venv/bin/activate

# 3. ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะทะฐะฒะธัะธะผะพััะธ
pip install -r requirements.txt
# (ะธะปะธ ะฒัััะฝัั: pip install flask pillow)

# 4. ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั
python app.py
```

### ๐ ะัะบััะฒะฐะตะผ ะฟัะธะปะพะถะตะฝะธะต

ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต:
```
http://127.0.0.1:5000
```

ะะพัะพะฒะพ! ๐

---

## ๐ ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั

1. **ะะฐะณััะถะฐะตะผ ะธะทะพะฑัะฐะถะตะฝะธะต** - ะบะปะธะบะฐะตะผ ะฝะฐ ะบะฝะพะฟะบั "ะัะบัััั" (ะปะตะฒัะน ะฒะตััะฝะธะน ัะณะพะป)
2. **ะะตะฝัะตะผ ัะปะฐะนะดะตัั** - ะฟะตัะตะผะตัะฐะตะผ ัะปะฐะนะดะตัั ะดะปั ัะธะปัััะพะฒ (ะถะธะฒะพะน ะฟัะตะดะฟัะพัะผะพัั!)
3. **ะััะพัะธั** - ะธัะฟะพะปัะทัะตะผ "ะัะผะตะฝะฐ" / "ะะพะฒัะพั" ะดะปั ะพัะบะฐัะฐ
4. **ะกะฑัะพั** - ะบะฝะพะฟะบะฐ ะฒะฝะธะทั ะฟะฐะฝะตะปะธ ะดะปั ัะฑัะพัะฐ ะฒัะตั ะฟะฐัะฐะผะตััะพะฒ
5. **ะญะบัะฟะพััะธััะตะผ** - ะบะปะธะบะฐะตะผ "ะญะบัะฟะพัั" ะดะปั ัะบะฐัะธะฒะฐะฝะธั ะฝะฐ ะบะพะผะฟัััะตั

---

## ๐ฃ๏ธ Roadmap (ะฟะปะฐะฝั ะฝะฐ ะฑัะดััะตะต)

### ๐ ะะตััะธั 1.1
- [ ] **Crop Tool** - ะพะฑัะตะทะบะฐ ะธะทะพะฑัะฐะถะตะฝะธั (ะดะพะฑะฐะฒะธัั ะบะพะพัะดะธะฝะฐัั x, y, width, height ะฒ params)
- [ ] **Rotate Slider** - ะฟะปะฐะฒะฝัะน ะฟะพะฒะพัะพั (ะฝะต ัะพะปัะบะพ 90ยฐ ัะฐะณะธ)
- [ ] **Flip Preview** - ะฟัะตะฒัั ะพััะฐะถะตะฝะธั ะดะพ ะฟัะธะผะตะฝะตะฝะธั

### ๐ ะะตััะธั 1.2
- [ ] **AI ะคะพะฝ-ะะตะผัะฒะตั** - ัะดะฐะปะตะฝะธะต ัะพะฝะฐ ั ะฟะพะผะพััั `rembg` ะธะปะธ `ONNX`
- [ ] **Batch Processing** - ะพะฑัะฐะฑะพัะบะฐ ะฝะตัะบะพะปัะบะธั ัะฐะนะปะพะฒ ััะฐะทั
- [ ] **Presets** - ัะพััะฐะฝัะฝะฝัะต ะฝะฐะฑะพัั ัะธะปัััะพะฒ ("ะะฝััะฐะณัะฐะผ", "ะะธะฝัะฐะถ" ะธ ั.ะด.)

### ๐ ะะตััะธั 2.0
- [ ] **Mask Tool** - ัะธัะพะฒะฐะฝะธะต ะฝะฐ ะผะฐัะบะต ะดะปั ะปะพะบะฐะปัะฝะพะน ะพะฑัะฐะฑะพัะบะธ
- [ ] **Layers** - ะฟะพะดะดะตัะถะบะฐ ัะปะพัะฒ (ะบะฐะบ ะฒ Photoshop)
- [ ] **Export Options** - ะฒัะฑะพั ะบะฐัะตััะฒะฐ, ัะพัะผะฐัะฐ, ัะฐะทะผะตัะฐ ะฟัะธ ัะบัะฟะพััะต
- [ ] **Dark Mode Toggle** - ะฟะตัะตะบะปััะตะฝะธะต ัะตะผั (ัะถะต ะฟะพััะธ ัััะฝะฐั)

---


